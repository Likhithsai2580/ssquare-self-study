{% extends "base.html" %}

{% block content %}
    <h1 class="text-3xl font-bold mb-8">Discussion Forum</h1>
    <a href="{{ url_for('main.create_post') }}" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 mb-4 inline-block">Create New Post</a>
    
    <div class="space-y-6">
        {% for post in posts %}
            <div class="bg-white shadow-md rounded-lg p-6">
                <h2 class="text-2xl font-semibold mb-2">
                    <a href="{{ url_for('main.post', post_id=post.id) }}" class="text-blue-600 hover:underline">{{ post.title }}</a>
                </h2>
                <p class="text-gray-600 mb-2">{{ post.content[:200] }}{% if post.content|length > 200 %}...{% endif %}</p>
                <p class="text-sm text-gray-500">
                    Posted by {{ post.user.username }} on {{ post.created_at.strftime('%Y-%m-%d %H:%M') }}
                </p>
            </div>
        {% endfor %}
    </div>
{% endblock %}